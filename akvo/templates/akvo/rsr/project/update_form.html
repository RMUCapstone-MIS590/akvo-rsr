{% extends "rsr/base_sheet.html" %}

{% load webdesign addparam cache humanize i18n rsr_filters rsr_tags thumbnail %}

{% block breadcrum_items %}
{{block.super}}
<li><a href="{% url project_list %}"><span>{% trans 'Projects' %}</span></a></li>
<li><a href="{% url project_main p.id %}"><span>{{p.name}}</span></a></li>
<li id="last_breadcrum_item">Add update</li>
{% endblock breadcrum_items %}

{% block content %}
	<form enctype="multipart/form-data" method="post" action="" name="add_update_form">{% csrf_token %}
		<div class="space20">
			{% if form.non_field_errors %}
	        	<div class="error">
					<p>{{ form.non_field_errors }}</p>
	        	</div>
	        {% endif %}
			<div style="width:500px;">
				<h1>{% trans 'Add update' %}</h1>
			</div>
			<div class="clear"></div>
			
			{% if form.title.errors %}
				<div class="error">
					<p>{{ form.title.errors.as_text }}</p>
				</div>
			{% endif %}
			<div style="width:500px;">
				<h3>{% trans 'Title' %}</h3>
				{{form.title|safe}}<br />
				<p class="small grey">
					{% trans '50 characters' %}
				</p>
			</div>
			<div class="clear"></div>
			{# <hr /> #}

			{% if form.text.errors %}
				<div class="error">
					<p>{{ form.text.errors.as_text }}</p>
				</div>
			{% endif %}
			<div style="width:500px;">
				<h3>{% trans 'Text' %}</h3>
				{{form.text}}
			</div>
			<div class="clear"></div>
			<br />
			<hr />
			{% if form.photo.errors %}
				<div class="error">
					<p><b>{% trans 'A problem occurred' %}:</b></p>
					<p>{{ form.photo.errors.as_text }}</p>
				</div>
			{% endif %}
			<div style="width:500px;">
			  <h2 style="margin-bottom:15px;">{% trans 'Add a photo' %}<span class="small grey"> ({% trans 'optional' %})</span></h2>
				<h4>{% trans 'Upload photo file' %}</h4>
				{{form.photo}}
			</div>
			<div class="clear"></div>
			<br />
			{# <hr /> #}

			{% if form.photo_location.errors %}
				<div class="error">
					<p><b>{% trans 'A problem occurred' %}:</b></p>
					<p>{{ form.photo_location.errors.as_text }}</p>
				</div>
			{% endif %}				
			<div style="width:500px;">
				<h4 style="margin-bottom:20px;">{% trans 'Photo location' %}</h4>
				<ol class="form_list">
					<li>
						<input type="radio" id="id_photo_location_0" 
							name="photo_location" value="B" 
							checked="checked" /> 
						<label for="id_photo_location_0">
							{% trans 'At the beginning of the update' %}
						</label>
					</li>
					<li>
						<input type="radio" id="id_photo_location_1" 
							name="photo_location" value="E" /> 
						<label for="id_photo_location_1">
							{% trans 'At the end of the update' %}
						</label>
					</li>
				</ol>
				<br />
			</div>
			<div class="clear"></div>	
			{# <hr /> #}
			{% if form.photo_caption.errors %}
				<div class="error">
					<p>{{ form.photo_caption.errors.as_text }}</p>
				</div>
			{% endif %}
			<div style="width:500px;">
				<h4>{% trans 'Photo caption' %}</h4>
				{{form.photo_caption}}
				<p class="small grey">75 {% trans 'characters' %}</p>
			</div>
			<div class="clear"></div>
			<br />
			{# <hr /> #}
			{% if form.photo_credit.errors %}
				<div class="error">
					<p>{{ form.photo_credit.errors.as_text }}</p>
				</div>
			{% endif %}
			<div style="width:500px;">
				<h4>{% trans 'Photo credit' %} <span class="small grey">({% trans 'optional' %})</span></h4>
				{{form.photo_credit}}
				<p class="small grey">25 {% trans 'characters' %}</p>
			</div>
			<div class="clear"></div>
			<br />
			{# ---- #}
			<hr />
			{% if form.video.errors %}
				<div class="error">
					<p>{{ form.video.errors.as_text }}</p>
				</div>
			{% endif %}
			<div style="width:500px;">
			  <h2 style="margin-bottom:15px;">{% trans 'Embed a video' %}<span class="small grey"> ({% trans 'optional' %})</span></h2>
				<h4>{% trans 'URL' %}</h4>
				{{form.video}}
				<p class="small grey">{% trans 'Supported providers' %}: Blip, Vimeo, YouTube.</p>
			</div>
			<div class="clear"></div>
			<br />
			{# <hr /> #}
			{% if form.video_caption.errors %}
				<div class="error">
					<p>{{ form.video_caption.errors.as_text }}</p>
				</div>
			{% endif %}
			<div style="width:500px;">
				<h4>{% trans 'Caption' %}</h4>
				{{form.video_caption}}
				<p class="small grey">75 {% trans 'characters' %}</p>
			</div>
			<div class="clear"></div>
			<br />
			{# <hr /> #}
			{% if form.video_credit.errors %}
				<div class="error">
					<p>{{ form.video_credit.errors.as_text }}</p>
				</div>
			{% endif %}
			<div style="width:500px;">
				<h4>{% trans 'Video credit' %} <span class="small grey">({% trans 'optional' %})</span></h4>
				{{form.video_credit}}
				<p class="small grey">25 {% trans 'characters' %}</p>
			</div>
			<div class="clear"></div>
			<br />
				
				
			<hr />
			<div style="text-align:center; padding-bottom:20px;">
				<div style="float:left;">
					<a href="{% url project_main p.id %}" class="small">{% trans 'Cancel' %}</a>
				</div>
				<a class="aqua awesome" href="javascript:document.add_update_form.submit();">
					{% trans 'Add update' %}
				</a>
			</div>
		</div>
	</form>
{% endblock content %}
