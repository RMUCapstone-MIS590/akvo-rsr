{% load i18n %}
<div id="map_canvas" style="width: {{ width }}px; height: {{ height }}px;"></div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script charset="utf-8">
    var googleMap = {
        canvas: jQuery('#map_canvas')[0],
        options: {
            zoom: {{ zoom }},
            center: new google.maps.LatLng({{ object.location.latitude }},
                                           {{ object.location.longitude }}),
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            scrollwheel: false,
            streetViewControl: false
        },
        load: function() {
            var map = new google.maps.Map(this.canvas, this.options);
            var marker = new google.maps.Marker({
                {% if marker_icon %}
                    icon: '{{ marker_icon }}',
                {% endif %}
                map: map,
                position: this.options.center,
                clickable: false,
            })
        }
    };
    jQuery(function() {
        function() {
            googleMap.load();
        }
    );
</script>

