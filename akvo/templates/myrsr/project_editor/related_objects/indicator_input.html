{% load i18n project_editor %}

<div class="indicator-item parent" id="indicator.{{ indicator|obj_id }}">
    {% include "myrsr/project_editor/partials/related_object_header.html" with rel_obj=indicator %}
    <div class="hide-partial {% if indicator.pk %}hidden{% endif %}">
        <div class="row">
            <div class="col-md-8">
                {% if indicator.is_child_indicator %}
                    {% include text_input with obj=indicator field='title' disabled=True %}
                {% else %}
                    {% include text_input with obj=indicator field='title' %}
                {% endif %}
            </div>
            <div class="col-md-4">
                {% include choice_input with obj=indicator field='measure' hidden=True %}
            </div>
        </div>
        <div class="row">
            <div class="col-md-8">
                {% include textarea_input with obj=indicator field='description' hidden=True %}
            </div>
            <div class="col-md-4">
                {% include boolean_input with obj=indicator field='ascending' hidden=True nullboolean=True %}
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                {% include text_input with obj=indicator field='baseline_year' hidden=True number=True %}
            </div>
            <div class="col-md-6">
                {% include text_input with obj=indicator field='baseline_value' hidden=True %}
            </div>
        </div>
        {% include textarea_input with obj=indicator field='baseline_comment' hidden=True %}
        <h5>{% trans 'Indicator periods' %}</h5>
        <div class="indicator-period-container" id="indicator-period-container">
            {% for period in indicator.periods.all %}
                {% include "myrsr/project_editor/related_objects/indicator_period_input.html" %}
            {% empty %}
                {% with indicator_id_string=indicator.pk|default:"new-0"|stringformat:"s" %}
                    {% include "myrsr/project_editor/related_objects/indicator_period_input.html" with period='IndicatorPeriod.'|add:project_id_string|add:'_'|add:result_id_string|add:'_'|add:indicator_id_string %}
                {% endwith %}
            {% endfor %}
            <div class="row form-group">
                <div class="col-md-12 text-center add-object-link">
                    <a href="#" class="add-indicator-period"><span class="glyphicon glyphicon-plus"></span> {% trans 'Add another indicator period' %}</a>
                </div>
            </div>
        </div>
    </div>
</div>