{% load i18n %}

<div class="indicator-item parent" id="indicator{% if indicator.pk %}-{{ indicator.pk }}{% endif %}">
    <div class="row partial-header">
        <div class="col-md-9 col-sm-6 col-xs-6 hide-partial-click">
            <span class="folded-sign">{% if indicator.pk %}+{% else %}-{% endif %}</span> {% trans 'Indicator' %}: <span class="unicode">{% if indicator.pk %}{{ indicator }}{% else %}({% trans 'new' %}){% endif %}</span>
        </div>
        <div class="col-md-3 col-sm-6 col-xs-6 text-right">
            <a class="delete-object-button" id="delete-indicator{% if indicator.pk %}-{{ indicator.pk }}{% endif %}"><span class="glyphicon glyphicon-trash"></span></a>
        </div>
    </div>
    <div class="hide-partial {% if indicator.pk %}hidden{% endif %}">
        <div class="row">
            <div class="col-md-8">
                {% if indicator.is_child_indicator %}
                    {% include text_input with obj=indicator field='title' disabled=True %}
                {% else %}
                    {% include text_input with obj=indicator field='title' %}
                {% endif %}
            </div>
            <div class="col-md-4">
                {% include choice_input with obj=indicator field='measure' hidden=True %}
            </div>
        </div>
        <div class="row">
            <div class="col-md-8">
                {% include textarea_input with obj=indicator field='description' hidden=True %}
            </div>
            <div class="col-md-4">
                {% include boolean_input with obj=indicator field='ascending' hidden=True nullboolean=True %}
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                {% include text_input with obj=indicator field='baseline_year' hidden=True number=True %}
            </div>
            <div class="col-md-6">
                {% include text_input with obj=indicator field='baseline_value' hidden=True %}
            </div>
        </div>
        {% include textarea_input with obj=indicator field='baseline_comment' hidden=True %}
        <h5>{% trans 'Indicator periods' %}</h5>
        <div class="indicator-period-container" id="indicator-period-container">
            {% for period in indicator.periods.all %}
                {% include "myrsr/project_editor/related_objects/indicator_period_input.html" %}
            {% empty %}
                {% with result_id_string=indicate.result.pk|default:"new-0"|stringformat:"s" indicator_id_string=indicator.pk|default:"new-0"|stringformat:"s" %}
                    {% include "myrsr/project_editor/related_objects/indicator_period_input.html" with period='IndicatorPeriod.'|add:project_id_string|add:'_'|add:result_id_string|add:'_'|add:indicator_id_string %}
                {% endwith %}
            {% endfor %}
        </div>
        <div class="row form-group">
            <div class="col-md-12 text-center add-object-link">
                <a href="#" class="add-indicator-period" id=""><span class="glyphicon glyphicon-plus"></span> {% trans 'Add another indicator period' %}</a>
            </div>
        </div>
    </div>
</div>