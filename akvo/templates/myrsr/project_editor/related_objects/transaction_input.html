{% load i18n %}

<div class="transaction-item parent" id="transaction{% if transaction.pk %}-{{ transaction.pk }}{% endif %}">
    <div class="row partial-header">
        <div class="col-md-9 col-sm-6 col-xs-6 hide-partial-click">
            <span class="folded-sign">{% if transaction.pk %}+{% else %}-{% endif %}</span> {% trans 'Transaction' %}: <span class="unicode">{% if transaction.pk %}{{ transaction }}{% else %}({% trans 'new' %}){% endif %}</span>
        </div>
        <div class="col-md-3 col-sm-6 col-xs-6 text-right">
            <a class="delete-object-button" id="delete-transaction{% if key %}-{{ key }}{% endif %}"><span class="glyphicon glyphicon-trash"></span></a>
        </div>
    </div>
    <div class="hide-partial {% if transaction.pk %}hidden{% endif %}">
        <div class="row">
            <div class="col-md-12">
                {% include choice_input with obj=transaction field='transaction_type' hidden=True %}
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                {% include currency_input with obj=transaction field='value' hidden=True %}
            </div>
            <div class="col-md-4">
                {% include date_input with obj=transaction field='transaction_date' hidden=True %}
            </div>
            <div class="col-md-4">
                {% include date_input with obj=transaction field='value_date' hidden=True %}
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                {% include typeahead_input with obj=transaction field='provider_organisation' hidden=True %}
            </div>
            <div class="col-md-6">
                {% include typeahead_input with obj=transaction field='receiver_organisation' hidden=True %}
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                {% include text_input with obj=transaction field='provider_organisation_activity' hidden=True %}
            </div>
            <div class="col-md-6">
                {% include text_input with obj=transaction field='receiver_organisation_activity' hidden=True %}
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                {% include text_input with obj=transaction field='reference' hidden=True %}
            </div>
            <div class="col-md-6">
                {% include text_input with obj=transaction field='description' hidden=True %}
            </div>
        </div>
        {% include choice_input with obj=transaction field='aid_type' hidden=True %}
        {% include choice_input with obj=transaction field='disbursement_channel' hidden=True %}
        {% include choice_input with obj=transaction field='finance_type' hidden=True %}
        {% include choice_input with obj=transaction field='flow_type' hidden=True %}
        {% include choice_input with obj=transaction field='tied_status' hidden=True %}
        {% include choice_input with obj=transaction field='recipient_country' hidden=True %}
        <div class="row">
            <div class="col-md-6">
                {% include choice_input with obj=transaction field='recipient_region' hidden=True %}
            </div>
            <div class="col-md-6">
                {% include choice_input with obj=transaction field='recipient_region_vocabulary' hidden=True %}
            </div>
        </div>
        <h5 class="hidden hide-default">{% trans 'Transaction sectors' %}</h5>
        <div class="transaction-sector-container hidden hide-default" id="transaction-sector-container">
            {% for sector in transaction.sectors.all %}
                {% include "myrsr/project_editor/related_objects/transaction_sector_input.html" %}
            {% empty %}
                {% with transaction_id_string=transaction.pk|default:"new-0"|stringformat:"s" %}
                    {% include "myrsr/project_editor/related_objects/transaction_sector_input.html" with sector='TransactionSector.'|add:project_id_string|add:'_'|add:transaction_id_string %}
                {% endwith %}
            {% endfor %}
        </div>
        <div class="row form-group hidden hide-default">
            <div class="col-md-12 text-center add-object-link">
                 <a href="#" class="add-transaction-sector" id=""><span class="glyphicon glyphicon-plus"></span> {% trans 'Add another transaction sector' %}</a>
            </div>
        </div>
    </div>
</div>