{% extends "myrsr/myrsr_base.html" %}

{% load i18n %}

{% block title %}{% trans 'MyRSR - My Results' %}{% endblock %}

{% block myrsr_main %}
    <h4 class="resultProjectTitle">{% trans 'Select project' %}</h4>
    <form>
        <div class="form-group">
            <div class="select-group control">
                <select title="select-project"
                        id="select-project"
                        class="form-control">
                    <option value="" selected="selected"></option>
                    {% for project in projects %}
                        <option value="{{ project.pk }}">{{ project.title }} (ID: {{ project.pk }})</option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </form>
{% endblock %}

{% block js %}
    {{ block.super }}

    <script type="application/javascript">
        document.addEventListener('DOMContentLoaded', function() {
            var currentUrl = window.location.href;
            var selectProject = document.getElementById('select-project');
            selectProject.addEventListener('change', function () {
                window.location.assign(currentUrl + selectProject.value + '/');
            });
        });
    </script>
{% endblock %}