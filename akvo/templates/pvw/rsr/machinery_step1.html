{% extends "rsr/base.html" %}
{% load i18n %}

{% block title %}{{ block.super }} - {{project.name}} {% trans 'widgets' %}{% endblock %}

{% block content %}

<div class="span-18">
	<div class="span-18">
		<h1>Get a widget (1/2)</h1>
	</div>
	<div class="span-10 first">
		<p class="grey small">
			{% trans 'The following steps will produce a snippet of widget code you can copy and paste into your own web site&#x27;s code' %}
		</p>
		<ol>
			<li>{% trans 'Select the type of widget you wish to use' %}.</li>
			<li>{% trans 'Select colours and preview your widget' %}.</li>
			<li>{% trans 'Copy the HTML code to your web site' %}.</li>
		</ol>
	</div>
	<div class="span-8 last">
		<noscript>
			<div id="machinery_step1_warning_main" style="float:right; width:380px; margin-right:25px; background-color:#FFEFEB; color:#FF0000; border:1px solid #FFDAD9; padding:10px;">
				<p>
					<span style="font-weight:bold;">{% trans 'A problem occurred' %}</span><br />
					{% trans 'We are sorry, but you must have Javascript enabled in your browser to proceed. ' %}
				</p>
			</div>
		</noscript>
	</div>
	<hr />
	<div class="push-1 span-17 first last">
		<h2>{% trans 'Step 1: Select the type of widget you wish to use' %}</h2>
		<p class="grey small">
			{% trans 'You can customise the top and bottom bar and title text colours on the next step' %}
		</p>
		<div class="frame">
			<div class="space20">
			<form name="projectUpdatesForm" action="." method="post">
				<h4>{% trans 'Project widget with updates (202 pixels wide by 900 pixels high)' %}</h4>
				<p class="grey small">{% trans 'Shows basic description and updates.' %}</p>
				<div style="float:left; width:205px;">
					<script type="text/javascript" charset="utf-8">
						// think about refactor this to a general method in machinery.js

						document.write('<iframe src="http://'+ location.host +'/rsr/widget/project-updates/project/{{project.id}}/" width="202" height="900" frameborder="0" allowTransparency="true"> </iframe>');
							
					</script>
				</div>
				<div style="float:right; width:580px;">
					<h3>{% trans 'Settings' %}</h3>
					<hr />
					<p class="bold">{% trans 'Enter the web address where you will embed this widget' %}</p>
					<p class="small">
					<input type="text" name="widget-site" value="" style="margin-top:2px; margin-right:20px;" /> 
					{% trans 'This will help us track statistics for you.' %}<br>
					<span class="grey">{% trans 'Example' %}: www.akvo.org</span>
					</p>
					<hr />
					<p>
						<input type="hidden" name="widget-type" value="project-updates" />
						<input type="radio" id="project-updates-specific-project" name="widget-choice" 
							value="specific-project" checked="checked" style="margin-bottom:10px;" /> 
							<label style="display:inline;" for="project-updates-specific-project">{% trans 'Use the' %} {{project.name}} {% trans 'project.' %}</label>
							
						<br />
						<input type="radio" id="project-updates-random-from-org" name="widget-choice" 
							value="random-from-org" /> 
						<label style="display:inline;" for="project-updates-random-from-org">
							{% trans 'Display a random project from this organisation' %}:</label>
						<br /><br />
						<select name="widget-organisations" id="project-updates-organisations" 
							size="1" style="margin-left:33px;" disabled="disabled">
							{% for organisation in organisations  %}
							<option value="{{organisation.id}}">{{organisation.name}}</option>
							{% endfor %}
						</select>
					</p>
					<hr />
					<div style="float:left; height:24px; margin-right:20px;">
						<a href="{% url akvo.rsr.views.projectmain project.id %}">{% trans 'Cancel' %}</a>
					</div>
					<a class="march_button" href="javascript:document.projectUpdatesForm.submit();" onclick="this.blur();"><span>{% trans 'Select and Proceed...' %}</span></a>
				</div>
				<div style="clear:both;"> </div>
				
			</form>
			</div>
		</div>
		
	</div>
	
</div>
	
{% endblock content %}

{% block js %}
{{block.super}}
<script type="text/javascript" charset="utf-8">
	var akvo_project_id = {{project.id}};
</script>
{% endblock js %}