{% extends "rsr/base.html" %}

{% load i18n rsr_tags generic_content rsr_filters addparam %}
{% block inline_styles %}
{{block.super}}

{% endblock inline_styles %}

{% block content %}
<div class="span-18">
	<div class="frame" style="background-color:#D8F4FE;">
		<div class="space15">
			<form action="" method="get" accept-charset="utf-8" style="margin-bottom:0;">
				<p>
					<span class="hl">Find projects:</span>
					<input type="text" name="find" value="" id="find" size="50" disabled="disabled">
					<input type="submit" value="Find" style="display:inline; vertical-align:baseline; margin-bottom:0;" disabled="disabled">					
				</p>
			</form>
		</div>
	</div>
</div>
<div class="span-3 first">
	<div class="frame">
		<div class="sliding_box_header">
			<p class="small" style="margin:2px 5px">Refine results</p>
		</div>
		<div class="space20">
			<h5>Sector</h5>
			<p class="small">
				<label><input type="checkbox" name="sectors" value="2" id="sector_sanitation" > Sanitation</label>
				<label><input type="checkbox" name="sectors" value="1" id="sector_water" > Water</label>
			</p>
			<hr />
			<h5>Location</h5>
			<p class="small">
				<label><input type="checkbox" name="continents" value="1" id="continent_africa" > Africa</label>
				<label><input type="checkbox" name="continents" value="2" id="continent_asia" > Asia</label>
				<label><input type="checkbox" name="continents" value="3" id="continent_australia" > Australia</label>
				<label><input type="checkbox" name="continents" value="4" id="continent_europe" > Europe</label>
				<label><input type="checkbox" name="continents" value="5" id="continent_north_america" > North America</label>
				<label><input type="checkbox" name="continents" value="6" id="continent_south_america" > South America</label>
				<label><input type="checkbox" name="continents" value="6" id="continent_south_america" disabled > Antarctica</label>
		</div>
	</div>
</div>
<div class="span-15 last">
	<div class="frame" style="margin-bottom:0; border-bottom:none;">
		<div class="sliding_box_header" >
			<div style="float:right;">
				<p class="small" style="margin:2px 5px">
					<a href="{% url akvo.rsr.views.projectlist %}{% addparam "page" 1 %}#list">{% trans 'First' %}</a>
					<a href="{% url akvo.rsr.views.projectlist %}{% addparam "page" page.previous_page_number %}#list">{% trans 'Previous' %}</a>
					<a href="{% url akvo.rsr.views.projectlist %}{% addparam "page" page.next_page_number %}#list">{% trans 'Next' %}</a>
			
					<a href="{% url akvo.rsr.views.projectlist %}{% addparam "page" page.paginator.num_pages %}#list">{% trans 'Last' %}</a>
				</p>
			</div>
			<p class="small" style="margin:2px 5px">Page {{page.number}} of {{page.paginator.num_pages}}</p>
		</div>
	</div>

	<div class="span-15 first last small" id="proj_list_table_header">
		<div class="span-6 first">
			<div class="space10">
				<p>Name</p>
			</div>
		</div>
		<div class="span-3">
			<div class="space10">
				<p>Location</p>
			</div>
		</div>
		<div class="span-2">
			<div class="space10">
				<p>Status</p>
			</div>
		</div>
		<div class="span-2">
			<div class="space10">
				<p>Partners</p>
			</div>
		</div>
		<div class="span-2 last">
			<div class="space10">
				<p>Served</p>
			</div>
		</div>
	</div>
    
    {% for p in page.object_list %}
	<div class="span-15 first last" id="proj_list_table">
		<div class="span-6 first">
			<div style="border-left:1px solid #BCBCC6; padding-top:5px;">
				<div class="space10">
					<a href="{% url project_main p.id %}">
						{% project_thumb p 100 75 'float:left; margin-right: 10px;' %}
			        </a>
					<a class="small" href="{% url project_main p.id %}">{{p.name}}</a>
                    <p class="small">
                        {% category_icons p %}
                    </p>
				</div>
				<div class="clear"></div>
			</div>
		</div>
		<div class="span-3">
			<div class="space10">
                {% for loc in p.locations.all %}
                    <p class="small">
                        {{loc.country.get_continent_display}}<br>
                        {{loc.country}}, {{loc.city}}
                    </p>
                {% endfor %}
			</div>
		</div>
		<div class="span-2">
			<div class="space10">
				<p class="small">
					{{p.show_status}}
				</p>				
			</div>
		</div>
		<div class="span-2">
			<div class="space10">
                {% for partner in p.project_partners.all %}
                    <p class="small">
                        <a href="{% url akvo.rsr.views.orgdetail partner.id %}">{{partner.partner}}</a><br />
                    </p>
                {% endfor %}
			</div>
		</div>
		<div class="span-2 last">
			<div class="space10">
				<p class="small">...</p>
			</div>
		</div>
		<div class="span-15 first last" 
			style="border-bottom:1px solid #F0F0F3; border-left:1px solid #ccc; padding-bottom:15px;">
		</div>
	</div>
	{% endfor %}
	<div class="clear"></div>
	<div class="frame">
		<div class="sliding_box_header">
			<div style="float:right;">
				<p class="small" style="margin:2px 5px">
					<a href="{% url akvo.rsr.views.projectlist %}{% addparam "page" 1 %}#list">{% trans 'First' %}</a>
					<a href="{% url akvo.rsr.views.projectlist %}{% addparam "page" page.previous_page_number %}#list">{% trans 'Previous' %}</a>
					<a href="{% url akvo.rsr.views.projectlist %}{% addparam "page" page.next_page_number %}#list">{% trans 'Next' %}</a>
			
					<a href="{% url akvo.rsr.views.projectlist %}{% addparam "page" page.paginator.num_pages %}#list">{% trans 'Last' %}</a>
				</p>
			</div>
			<p class="small" style="margin:2px 5px">Page {{page.number}} of {{page.paginator.num_pages}}</p>
		</div>
	</div>
	
	{% comment %}
		

	<div class="frame">
		<div class="sliding_box_header">
			<p class="small" style="margin:2px 5px">2,573 results found for "virda"</p>
		</div>
		
		<div class="space20">
			<ul>
			{% for p in page.object_list %}
				<li><a href="{% url project_main p.id %}">{{p.name}}</a></li>
			{% endfor %}
			</ul>
		</div>
	</div>
	{% endcomment %}
</div>

{% endblock content %}