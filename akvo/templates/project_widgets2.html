{% extends "base.html" %}

{% load compressed i18n rsr_utils %}

{% block title %}{{project.title}} - {% trans "widget selection" %}{% endblock %}

{% block maincontent %}

<article class="touch-navbar project-container">
    {% include "partials/project_header.html" %}

    <div class="container">
        <div class="row">
            <div class="col-sm-5">
                <h1>{% trans "Widget selection" %}</h1>
                <p>
                    {% trans "The following steps will produce a snippet of Akvo widget code you can copy and paste into your own web site's code." %}
                </p>
                <p>
                    {% trans "Step 1: Select and preview the widget you wish to use." %}<br>
                    {% trans "Step 2: Select colours and additional settings for your widget." %}<br>
                    {% trans "Step 3: Copy the HTML code to your web site." %}
                </p>
                <h2><small>{% trans "Step 2 of 3: Settings" %}</small></h2>
                {% if widget == 'narrow' or widget == 'cobranded' or widget == 'small' %}
                    <h3><small>{% trans "Project" %}</small></h3>
                    <div class="radio">
                        <label>
                            <input type="radio" name="widget-project" value="project" checked>{% trans "Use the" %} {{project.title}} {% trans "project" %}
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="widget-project" value="random">{% trans "Display a random project from an organisation" %}:
                        </label>
                    </div>
                    <div class="form-group">
                        <select class="form-control" id="widget-random-organisation">
                        <option value="{{project.first_partner.pk}}">{{project.first_partner.name}}</option>
                      </select>
                    </div>
                {% elif widget == 'map' or widget == 'list' %}
                    <h3><small>{% trans "Organisation" %}</small></h3>
                    <div class="form-group">
                        <select class="form-control" id="widget-organisation">
                        <option value="{{project.first_partner.pk}}">{{project.first_partner.name}}</option>
                      </select>
                    </div>
                    {% if widget == 'map' %}
                        <h3><small>{% trans "Size" %}</small></h3>
                        {% trans "Height" %}: <input type="text" class="form-control" id="widget-height" value="300" size="5">
                        {% trans "Width" %}: <input type="text" class="form-control" id="widget-width" value="600" size="5">
                        <h3><small>{% trans "State" %}</small></h3>
                        <div class="radio">
                            <label>
                                <input type="radio" name="widget-state" value="dynamic" checked>{% trans "Dynamic" %}
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input type="radio" name="widget-state" value="static">{% trans "Static" %}
                            </label>
                        </div>
                    {% endif %}
                {% endif %}
                <h3><small>{% trans "Style" %}</small></h3>
                <div class="radio">
                    <label>
                        <input type="radio" name="widget-style" value="dark" checked>{% trans "Dark" %}
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" name="widget-style" value="light">{% trans "Light" %}
                    </label>
                </div>
                <h3><small>{% trans "Where will you embed this widget?" %}</small></h3>
                <input type="text" class="form-control" id="widget-site" value="" size="51" placeholder="Example: akvo.org">
                <h2><small>{% trans "Step 3 of 3: Copy the HTML" %}</small></h2>
                <p>
                    {% trans "Copy the HTML code below for use on your web site." %}
                    {% trans "You may repeat the steps above until you are satisfied with the appearance of your widget." %}
                </p>
                <p>
                    <textarea class="form-control" name="code" id="code" rows="4"><iframe src="{{domain_url}}{% url 'widget_project_narrow' project.pk %}" width="170px" height="840px" frameborder="0" allowTransparency="true" style="overflow: hidden"> </iframe></textarea>
                </p>
            </div>
            <div class="col-sm-7">
                <h3>{% trans "Preview" %}</h3>
                <div class="preview">
                    {% if widget == 'narrow' %}
                        <script>document.write('<iframe src="{% url 'widget_project_narrow' project.pk %}" width="170px" height="840px" frameborder="0" allowTransparency="true" style="overflow: hidden"> </iframe>');</script>
                    {% elif widget == 'cobranded' %}
                        <script>document.write('<iframe src="{% url 'widget_cobranded_banner' project.pk %}" width="468px" height="234px" frameborder="0" allowTransparency="true" style="overflow: hidden"> </iframe>');</script>
                    {% elif widget == 'small' %}
                        <script>document.write('<iframe src="{% url 'widget_project_small' project.pk %}" width="170px" height="312px" frameborder="0" allowTransparency="true" style="overflow: hidden"> </iframe>');</script>
                    {% elif widget == 'map' %}
                        <script>document.write('<iframe src="{% url 'widget_org_map' %}?organisation_id={{project.first_partner.pk}}&width=600&height=300" width="600px" height="300px" frameborder="0" allowTransparency="true" style="overflow: hidden"> </iframe>');</script>
                    {% elif widget == 'list' %}
                        <script>document.write('<iframe src="{% url 'widget_project_list' %}?organisation_id={{project.first_partner.pk}}" width="730px" height="745px" frameborder="0" allowTransparency="true" style="overflow: hidden"> </iframe>');</script>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</article>
{% endblock %}